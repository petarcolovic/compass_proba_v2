<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compass</title>
  <style>
    /* ===== section: global layout ===== */
    body {
      font-family: Arial, Helvetica, sans-serif;
      background-color: #0e0e0e;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }

    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 40px;
    }

    header img {
      width: 150px;
      height: auto;
      margin-bottom: 10px;
    }

    h1 {
      margin: 0;
      font-size: 2em;
      text-align: center;
    }

    /* ===== section: compass ===== */
    .compass {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 40px 0;
    }

    .compass img {
      width: 250px;
      height: auto;
    }

    /* ===== section: figures grid ===== */
    .figures-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      width: 100%;
      max-width: 1000px;
      margin-bottom: 40px;
    }

    .figure-card {
      background: #1a1a1a;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(255,255,255,0.1);
    }

    .figure-card h3 {
      margin-top: 0;
      color: #ffd700;
    }

    /* ===== section: footer ===== */
    footer {
      text-align: center;
      margin-top: auto;
      font-size: 0.9em;
      color: #aaa;
      padding: 20px 0;
    }
  </style>
</head>

<body>
  <!-- section: header -->
  <header>
    <img src="./recrewty-logo-white.png" alt="Logo" />
    <h1>Kompas ličnosti</h1>
  </header>

  <!-- section: compass -->
  <section class="compass">
    <img src="./compass.svg" alt="Compass" />
  </section>

  <!-- section: figures grid -->
  <section id="figures" class="figures-grid">
    <!-- Dinamički se popunjava pomoću JavaScript-a -->
  </section>

  <!-- section: footer -->
  <footer>
    <p>&copy; 2025 Kompas ličnosti | Sva prava zadržana</p>
  </footer>

  <!-- section: scripts -->
  <script>
    async function loadData() {
      try {
        const [figuresRes, itemsRes] = await Promise.all([
          fetch("figures.json"),
          fetch("items.json")
        ]);

        if (!figuresRes.ok || !itemsRes.ok) {
          throw new Error("Greška pri učitavanju podataka.");
        }

        const figures = await figuresRes.json();
        const items = await itemsRes.json();

        const container = document.getElementById("figures");
        container.innerHTML = "";

        figures.forEach((figure) => {
          const card = document.createElement("div");
          card.classList.add("figure-card");

          card.innerHTML = `
            <h3>${figure.name}</h3>
            <p><strong>Opis:</strong> ${figure.description || "Nema podataka."}</p>
            <p><strong>Osobine:</strong></p>
            <ul>
              ${(figure.traits || [])
                .map(trait => `<li>${trait}</li>`)
                .join("")}
            </ul>
          `;

          container.appendChild(card);
        });
      } catch (error) {
        const container = document.getElementById("figures");
        container.innerHTML = "<p>Podaci trenutno nisu dostupni.</p>";
        console.error("Greška pri učitavanju podataka:", error);
      }
    }

    loadData();
  </script>
</body>
</html>
